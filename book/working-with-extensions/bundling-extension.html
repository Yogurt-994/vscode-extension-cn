<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>æ‰“åŒ…æ’ä»¶ - VS Code æ’ä»¶å¼€å‘æ–‡æ¡£</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">é¢„å¤‡çŸ¥è¯†</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../preknowledge/first-step.html"><strong aria-hidden="true">1.</strong> éJSå¼€å‘è€…çš„ç¬¬ä¸€æ­¥</a></li><li class="chapter-item expanded "><a href="../preknowledge/variable-and-type.html"><strong aria-hidden="true">2.</strong> Typescript-å˜é‡å’Œç±»å‹</a></li><li class="chapter-item expanded "><a href="../preknowledge/class.html"><strong aria-hidden="true">3.</strong> Typescript-ç±»</a></li><li class="chapter-item expanded "><a href="../preknowledge/interface-and-namespace.html"><strong aria-hidden="true">4.</strong> Typescript-æ¥å£å’Œå‘½åç©ºé—´</a></li><li class="chapter-item expanded "><a href="../preknowledge/generics.html"><strong aria-hidden="true">5.</strong> Typescript-æ³›å‹</a></li><li class="chapter-item expanded "><a href="../preknowledge/declaration-files.html"><strong aria-hidden="true">6.</strong> Typescript-å£°æ˜æ–‡ä»¶</a></li><li class="chapter-item expanded affix "><li class="part-title">ç¬¬ä¸€æ­¥</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../get-started/your-first-extension.html"><strong aria-hidden="true">7.</strong> ä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶</a></li><li class="chapter-item expanded "><a href="../get-started/extension-anatomy.html"><strong aria-hidden="true">8.</strong> è§£ææ’ä»¶ç»“æ„</a></li><li class="chapter-item expanded "><a href="../get-started/wrapping-up.html"><strong aria-hidden="true">9.</strong> å°ç»“</a></li><li class="chapter-item expanded affix "><li class="part-title">å¼€å‘æ’ä»¶</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../working-with-extensions/testing-extension.html"><strong aria-hidden="true">10.</strong> æµ‹è¯•æ’ä»¶</a></li><li class="chapter-item expanded "><a href="../working-with-extensions/publish-extension.html"><strong aria-hidden="true">11.</strong> å‘å¸ƒæ’ä»¶</a></li><li class="chapter-item expanded "><a href="../working-with-extensions/bundling-extension.html" class="active"><strong aria-hidden="true">12.</strong> æ‰“åŒ…æ’ä»¶</a></li><li class="chapter-item expanded "><a href="../working-with-extensions/continuous-integration.html"><strong aria-hidden="true">13.</strong> æŒé›†æˆ</a></li><li class="chapter-item expanded affix "><li class="part-title">æ’ä»¶åŠŸèƒ½</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../extension-capabilities/index.html"><strong aria-hidden="true">14.</strong> æ¦‚è¿°</a></li><li class="chapter-item expanded "><a href="../extension-capabilities/common-capabilities.html"><strong aria-hidden="true">15.</strong> å¸¸ç”¨åŠŸèƒ½</a></li><li class="chapter-item expanded "><a href="../extension-capabilities/theming.html"><strong aria-hidden="true">16.</strong> ä¸»é¢˜</a></li><li class="chapter-item expanded "><a href="../extension-capabilities/extending-workbench.html"><strong aria-hidden="true">17.</strong> æ‰©å±•å·¥ä½œå°</a></li><li class="chapter-item expanded affix "><li class="part-title">æ’ä»¶æŒ‡å—</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../extension-guides/index.html"><strong aria-hidden="true">18.</strong> æ¦‚è¿°</a></li><li class="chapter-item expanded "><a href="../extension-guides/command.html"><strong aria-hidden="true">19.</strong> å‘½ä»¤</a></li><li class="chapter-item expanded "><a href="../extension-guides/color-theme.html"><strong aria-hidden="true">20.</strong> è‰²å½©ä¸»é¢˜</a></li><li class="chapter-item expanded "><a href="../extension-guides/file-icon-theme.html"><strong aria-hidden="true">21.</strong> æ–‡ä»¶å›¾æ ‡ä¸»é¢˜</a></li><li class="chapter-item expanded "><a href="../extension-guides/product-icon-theme.html"><strong aria-hidden="true">22.</strong> äº§å“å›¾æ ‡ä¸»é¢˜</a></li><li class="chapter-item expanded "><a href="../extension-guides/tree-view.html"><strong aria-hidden="true">23.</strong> æ ‘è§†å›¾</a></li><li class="chapter-item expanded "><a href="../extension-guides/webview.html"><strong aria-hidden="true">24.</strong> Webview</a></li><li class="chapter-item expanded "><a href="../extension-guides/notebook.html"><strong aria-hidden="true">25.</strong> ç¬”è®°æœ¬</a></li><li class="chapter-item expanded "><a href="../extension-guides/virtual-documents.html"><strong aria-hidden="true">26.</strong> è™šæ‹Ÿæ–‡æ¡£</a></li><li class="chapter-item expanded "><a href="../extension-guides/task-provider.html"><strong aria-hidden="true">27.</strong> ä»»åŠ¡</a></li><li class="chapter-item expanded "><a href="../extension-guides/scm-provider.html"><strong aria-hidden="true">28.</strong> æºæ§åˆ¶</a></li><li class="chapter-item expanded "><a href="../extension-guides/debugger-extension.html"><strong aria-hidden="true">29.</strong> è°ƒè¯•å™¨æ’ä»¶</a></li><li class="chapter-item expanded "><a href="../extension-guides/markdown-extension.html"><strong aria-hidden="true">30.</strong> Markdownæ’ä»¶</a></li><li class="chapter-item expanded "><a href="../extension-guides/custom-editors.html"><strong aria-hidden="true">31.</strong> è‡ªå®šä¹‰ç¼–è¾‘å™¨</a></li><li class="chapter-item expanded "><a href="../extension-guides/custom-data-extension.html"><strong aria-hidden="true">32.</strong> è‡ªå®šä¹‰æ•°æ®æ’ä»¶</a></li><li class="chapter-item expanded affix "><li class="part-title">è¯­è¨€æ’ä»¶</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../language-extensions/index.html"><strong aria-hidden="true">33.</strong> æ¦‚è¿°</a></li><li class="chapter-item expanded "><a href="../language-extensions/syntax-highlight-guide.html"><strong aria-hidden="true">34.</strong> è¯­æ³•é«˜äº®</a></li><li class="chapter-item expanded "><a href="../language-extensions/semantic-highlight-guide.html"><strong aria-hidden="true">35.</strong> è¯­ä¹‰é«˜äº®</a></li><li class="chapter-item expanded "><a href="../language-extensions/snippet-guide.html"><strong aria-hidden="true">36.</strong> ä»£ç ç‰‡æ®µ</a></li><li class="chapter-item expanded "><a href="../language-extensions/language-configuration-guide.html"><strong aria-hidden="true">37.</strong> è¯­è¨€é…ç½®</a></li><li class="chapter-item expanded "><a href="../language-extensions/programmatic-language-features.html"><strong aria-hidden="true">38.</strong> ç¨‹åºæ€§è¯­è¨€ç‰¹æ€§</a></li><li class="chapter-item expanded "><a href="../language-extensions/language-server-extension-guide.html"><strong aria-hidden="true">39.</strong> è¯­è¨€æœåŠ¡å™¨</a></li><li class="chapter-item expanded "><a href="../language-extensions/embedded-languages.html"><strong aria-hidden="true">40.</strong> åµŒå…¥è¯­è¨€</a></li><li class="chapter-item expanded affix "><li class="part-title">è¿›é˜¶ä¸»é¢˜</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../advanced-topics/extension-host.html"><strong aria-hidden="true">41.</strong> æ’ä»¶ä¸»æœº</a></li><li class="chapter-item expanded "><a href="../advanced-topics/remote-extensions.html"><strong aria-hidden="true">42.</strong> è¿œç¨‹å¼€å‘</a></li><li class="chapter-item expanded "><a href="../advanced-topics/using-proposed-api.html"><strong aria-hidden="true">43.</strong> ä½¿ç”¨ä¸ç¨³å®šçš„API</a></li><li class="chapter-item expanded affix "><li class="part-title">ï¸ï¸å‚è€ƒ</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../references/vscode-api.html"><strong aria-hidden="true">44.</strong> VS Code API</a></li><li class="chapter-item expanded "><a href="../references/contribution-points.html"><strong aria-hidden="true">45.</strong> å‘å¸ƒå†…å®¹é…ç½®</a></li><li class="chapter-item expanded "><a href="../references/activation-events.html"><strong aria-hidden="true">46.</strong> æ¿€æ´»äº‹ä»¶</a></li><li class="chapter-item expanded "><a href="../references/extension-manifest.html"><strong aria-hidden="true">47.</strong> æ’ä»¶æ¸…å•</a></li><li class="chapter-item expanded "><a href="../references/commands.html"><strong aria-hidden="true">48.</strong> å‘½ä»¤</a></li><li class="chapter-item expanded "><a href="../references/when-clause-contexts.html"><strong aria-hidden="true">49.</strong> when å­å¥ä¸Šä¸‹æ–‡</a></li><li class="chapter-item expanded "><a href="../references/theme-color.html"><strong aria-hidden="true">50.</strong> ä¸»é¢˜è‰²å½©</a></li><li class="chapter-item expanded "><a href="../references/icons-in-labels.html"><strong aria-hidden="true">51.</strong> æ ‡ç­¾ä¸­çš„å›¾æ ‡</a></li><li class="chapter-item expanded "><a href="../references/document-selector.html"><strong aria-hidden="true">52.</strong> æ–‡æ¡£é€‰æ‹©å™¨</a></li><li class="chapter-item expanded "><a href="../references/extension-guidelines.html"><strong aria-hidden="true">53.</strong> æ’ä»¶å¼€å‘å‡†åˆ™</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">VS Code æ’ä»¶å¼€å‘æ–‡æ¡£</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="æ‰“åŒ…æ’ä»¶"><a class="header" href="#æ‰“åŒ…æ’ä»¶">æ‰“åŒ…æ’ä»¶</a></h1>
<p>VS Code æ’ä»¶ä½“ç§¯å¸¸å¸¸éšç€æ›´æ–°è¶Šæ¥è¶Šå¤§ï¼Œå®ƒä¼šäº§ç”Ÿå¾ˆå¤šæ–‡ä»¶ï¼Œè€Œä¸”è¿˜ä¾èµ–å„ç§<a href="https://www.npmjs.com/">npm</a>åŒ…ã€‚
ç¨‹åºå¼€å‘çš„æœ€ä½³å®è·µæ˜¯æŠ½è±¡å’Œé‡ç”¨ï¼Œä½†è¿‡åº¦æ‹†åˆ†å’Œåºå¤§çš„ä»£ç ç»“æ„äº§ç”Ÿçš„ä»£ä»·å°±æ˜¯æ›´å¤§çš„æ’ä»¶ä½“ç§¯å’Œæ›´æ…¢çš„è¿è¡Œæ•ˆç‡ã€‚åŠ è½½ 100 ä¸ªå°æ–‡ä»¶è¿œæ¯”åŠ è½½ä¸€ä¸ªå¤§æ–‡ä»¶æ¥çš„æ…¢ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ›´æ¨èæ‰“åŒ…æ’ä»¶çš„åŸå› ã€‚
<em>æ‰“åŒ…</em>æ˜¯å°†å¤šä¸ªå°çš„æºæ–‡ä»¶æ‰“åŒ…æˆå•ä¸ªå…¥å£æ–‡ä»¶çš„è¿‡ç¨‹ã€‚</p>
<p>å¯¹äº Javascript è€Œè¨€ï¼Œå¯é€‰çš„æ„å»ºå·¥å…·éå¸¸å¤šï¼Œæ¯”è¾ƒæµè¡Œçš„å¦‚<a href="https://rollupjs.org/">rollup.js</a>ï¼Œ<a href="https://parceljs.org/">parcel</a>å’Œ<a href="https://webpack.js.org/">webpack</a>ã€‚å¤§éƒ¨åˆ†æ„å»ºå·¥å…·çš„æ¦‚å¿µå’ŒåŠŸèƒ½éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œæœ¬èŠ‚ä¸»è¦ä½¿ç”¨<strong>webpack</strong>æ‰“åŒ…ã€‚</p>
<h2 id="ä½¿ç”¨-webpack"><a class="header" href="#ä½¿ç”¨-webpack">ä½¿ç”¨ webpack</a></h2>
<hr />
<p>webpack è¿™ä¸ªå¼€å‘å·¥å…·å¯ä»¥åœ¨<a href="https://www.npmjs.com/">npm</a>é‡Œæ‰¾åˆ°ï¼Œä¸ºäº†è·å– webpack å’Œå®ƒçš„å‘½ä»¤è¡Œç•Œé¢ï¼Œæ‰“å¼€ç»ˆç«¯ç„¶åè¾“å…¥ï¼š</p>
<pre><code class="language-bash">npm i --save-dev webpack webpack-cli
</code></pre>
<p>è¿™è¡Œå‘½ä»¤ä¼šå…ˆå®‰è£… webpackï¼Œç„¶åæ›´æ–°ä½ æ’ä»¶é‡Œçš„<code>package.json</code>ä¸­çš„<code>devDependencies</code>å­—æ®µã€‚Webpack æ˜¯ä¸€ä¸ª Javascrip æ‰“åŒ…å·¥å…·ï¼Œä½†æ˜¯å¤§éƒ¨åˆ† VS Code æ’ä»¶æ˜¯ç”¨ Typescript å†™çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦åœ¨ webpack ä¸­é…ç½®<code>ts-loader</code>ï¼Œå®ƒæ‰èƒ½æ­£ç¡®ç¼–è¯‘ Typescriptã€‚å®‰è£…<code>ts-loader</code>ï¼š</p>
<pre><code class="language-bash">npm i --save-dev ts-loader
</code></pre>
<h2 id="é…ç½®-webpack"><a class="header" href="#é…ç½®-webpack">é…ç½® webpack</a></h2>
<hr />
<p>æ—¢ç„¶æ‰€æœ‰çš„å·¥å…·éƒ½å®‰è£…å¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å¼€å§‹é…ç½® webpack äº†ã€‚é€šå¸¸æ¥è¯´ï¼Œä½ çš„é¡¹ç›®ç›®å½•ä¸­éœ€è¦åˆ›å»ºä¸€ä¸ª<code>webpack.config.js</code>æ–‡ä»¶ï¼Œwebpack æ‰èƒ½çŸ¥é“æŒ‰ä»€ä¹ˆè§„åˆ™æ‰“åŒ…ä½ çš„æ’ä»¶ã€‚ä¸‹é¢çš„é…ç½®ç¤ºä¾‹æ˜¯ VS Code æ’ä»¶ä¸“ç”¨çš„ï¼Œè®©æˆ‘ä»¬æ¥å¼€è¿™ä¸ªå¤´å§ï¼š</p>
<pre><code class="language-javascript">/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

//@ts-check

&quot;use strict&quot;;

const path = require(&quot;path&quot;);

/**@type {import('webpack').Configuration}*/
const config = {
  target: &quot;node&quot;, // vscodeæ’ä»¶è¿è¡Œåœ¨Node.jsç¯å¢ƒä¸­ ğŸ“– -&gt; https://webpack.js.org/configuration/node/

  entry: &quot;./src/extension.ts&quot;, // æ’ä»¶çš„å…¥å£æ–‡ä»¶ ğŸ“– -&gt; https://webpack.js.org/configuration/entry-context/
  output: {
    // æ‰“åŒ…å¥½çš„æ–‡ä»¶å‚¨å­˜åœ¨'dist'æ–‡ä»¶å¤¹ä¸­ (è¯·å‚è€ƒpackage.json), ğŸ“– -&gt; https://webpack.js.org/configuration/output/
    path: path.resolve(__dirname, &quot;dist&quot;),
    filename: &quot;extension.js&quot;,
    libraryTarget: &quot;commonjs2&quot;,
    devtoolModuleFilenameTemplate: &quot;../[resource-path]&quot;
  },
  devtool: &quot;source-map&quot;,
  externals: {
    vscode: &quot;commonjs vscode&quot; // vscode-moduleæ˜¯çƒ­æ›´æ–°çš„ä¸´æ—¶ç›®å½•ï¼Œæ‰€ä»¥è¦æ’é™¤æ‰ã€‚ åœ¨è¿™é‡Œæ·»åŠ å…¶ä»–ä¸åº”è¯¥è¢«webpackæ‰“åŒ…çš„æ–‡ä»¶, ğŸ“– -&gt; https://webpack.js.org/configuration/externals/
  },
  resolve: {
    // æ”¯æŒè¯»å–TypeScriptå’ŒJavaScriptæ–‡ä»¶, ğŸ“– -&gt; https://github.com/TypeStrong/ts-loader
    extensions: [&quot;.ts&quot;, &quot;.js&quot;]
  },
  module: {
    rules: [
      {
        test: /\.ts$/,
        exclude: /node_modules/,
        use: [
          {
            loader: &quot;ts-loader&quot;
          }
        ]
      }
    ]
  }
};
module.exports = config;
</code></pre>
<p>è¿™ä»½æ–‡ä»¶æ˜¯<a href="https://github.com/Microsoft/vscode-extension-samples/blob/master/webpack-sample">webpack-extension</a>ä¸­çš„<a href="https://github.com/Microsoft/vscode-extension-samples/blob/master/webpack-sample/webpack.config.js">ä¸€éƒ¨åˆ†</a>ã€‚webpack é…ç½®æœ€åè¾“å‡ºçš„å°±æ˜¯ JS å¯¹è±¡ã€‚</p>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº†å¦‚ä¸‹å†…å®¹ï¼š</p>
<ul>
<li><code>traget</code>ï¼š'node'ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ’ä»¶è¿è¡Œåœ¨ Node.js ç¯å¢ƒä¸­ã€‚</li>
<li><code>entry</code>ï¼šwebpack ä½¿ç”¨çš„å…¥å£æ–‡ä»¶ã€‚è¿™å°±åƒæ˜¯<code>package.json</code>ä¸­çš„<code>main</code>å±æ€§ï¼Œæœ‰ç‚¹ä¸ä¸€æ ·çš„æ˜¯ä½ è¿˜éœ€è¦ç»™ webpack æä¾›&quot;source&quot;â€”â€” ä¸€èˆ¬å°±æ˜¯<code>src/extension.ts</code>ï¼Œå°å¿ƒä¸è¦é…ç½®åœ¨&quot;output&quot;é‡Œäº†ã€‚webpack å¯ä»¥è§£æ Typescriptï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦å†å•ç‹¬æ‰§è¡Œ Typescript ç¼–è¯‘äº†ã€‚</li>
<li><code>output</code>é…ç½®å‘Šè¯‰ webpack åº”è¯¥æŠŠæ‰“åŒ…å¥½çš„æ–‡ä»¶æ”¾åœ¨å“ªé‡Œï¼Œä¸€èˆ¬è€Œè¨€æˆ‘ä»¬ä¼šæ”¾åœ¨<code>dist</code>æ–‡ä»¶å¤¹é‡Œã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œwebpack æœ€åä¼šäº§ç”Ÿä¸€ä¸ª<code>dist/extension.js</code>æ–‡ä»¶ã€‚</li>
<li>åœ¨<code>resolve</code>å’Œ<code>module/rules</code>ä¸­é…ç½® Typescript å’Œ Javascript çš„è§£æå™¨ã€‚</li>
<li><code>externals</code>å³æ’é™¤é…ç½®ï¼Œåœ¨è¿™é‡Œå¯ä»¥é…ç½®æ‰“åŒ…æ–‡ä»¶ä¸åº”åŒ…å«çš„æ–‡ä»¶å’Œæ¨¡å—ã€‚<code>vscode</code>ä¸éœ€è¦è¢«æ‰“åŒ…æ˜¯å› ä¸ºå®ƒå¹¶ä¸å‚¨å­˜åœ¨ç£ç›˜ä¸Šï¼Œå®ƒæ˜¯ VS Code çƒ­æ›´æ–°ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶å¤¹ã€‚æ ¹æ®æ’ä»¶ä¾èµ–çš„å…·ä½“ node æ¨¡å—ï¼Œä½ å¯èƒ½éœ€è¦é€šè¿‡è¿™ä¸ªé…ç½®ä¼˜åŒ–æ‰“åŒ…æ–‡ä»¶ã€‚</li>
</ul>
<h2 id="è¿è¡Œ-webpack"><a class="header" href="#è¿è¡Œ-webpack">è¿è¡Œ webpack</a></h2>
<hr />
<p><code>webpack.config.js</code>æ–‡ä»¶åˆ›å»ºå¥½ä¹‹åï¼Œwebpack å°±å¯ä»¥æ­£å¼å¼€å§‹å·¥ä½œäº†ã€‚ä½ å¯ä»¥ä»å‘½ä»¤è¡Œä¸­è¿è¡Œ webpackï¼Œä¸è¿‡ä¸ºäº†é¿å…é‡å¤å·¥ä½œç”¨ npm script ä¼šæ›´æœ‰æ•ˆç‡ã€‚</p>
<p>å°†ä¸‹åˆ—è„šæœ¬å¤åˆ¶åˆ°<code>package.json</code>çš„<code>scripts</code>ä¸­å»ï¼š</p>
<pre><code class="language-json">&quot;scripts&quot;: {
  &quot;vscode:prepublish&quot;: &quot;webpack --mode production&quot;,
  &quot;compile&quot;: &quot;webpack --mode none&quot;,
  &quot;watch&quot;: &quot;webpack --mode none --watch&quot;,
},
</code></pre>
<p><code>compile</code>å’Œ<code>watch</code>è„šæœ¬æ˜¯å¼€å‘æ—¶ä½¿ç”¨çš„ï¼Œå®ƒä»¬ä¼šäº§ç”Ÿæ„å»ºæ–‡ä»¶ã€‚<code>vscode:prepublish</code>æ˜¯<code>vsce</code>ä½¿ç”¨çš„ï¼Œ<code>vsce</code>æ˜¯ VS Code çš„æ‰“åŒ…å’Œå‘å¸ƒå·¥å…·ï¼Œä½ éœ€è¦åœ¨å‘å¸ƒæ’ä»¶ä¹‹å‰è¿è¡Œè¿™ä¸ªå‘½ä»¤ã€‚webpack ä¸­çš„<a href="https://webpack.js.org/concepts/mode/">mode</a>æ˜¯æ§åˆ¶ä¼˜åŒ–çº§åˆ«çš„é…ç½®é¡¹ï¼Œå¦‚æœä½ ä½¿ç”¨<code>production</code>å­—æ®µï¼Œé‚£ä¹ˆå°±ä¼šæ‰“åŒ…å‡ºæœ€å°çš„æ„å»ºæ–‡ä»¶ï¼Œä½†æ˜¯ä¹Ÿä¼šè€—è´¹æ›´å¤šæ—¶é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€å‘ä¸­ä½¿ç”¨<code>none</code>ã€‚æƒ³è¦è¿è¡Œä¸Šè¿°è„šæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€ç»ˆç«¯ï¼ˆå‘½ä»¤è¡Œï¼‰è¾“å…¥<code>npm run compile</code>æˆ–è€…ä»<em>å‘½ä»¤é¢æ¿</em>ï¼ˆ<kbd>Ctrl+Shift+P</kbd>ï¼‰ä¸­ä½¿ç”¨<strong>è¿è¡Œä»»åŠ¡</strong>æ¥å¼€å§‹ã€‚</p>
<h2 id="è¿è¡Œæ’ä»¶"><a class="header" href="#è¿è¡Œæ’ä»¶">è¿è¡Œæ’ä»¶</a></h2>
<hr />
<p>è¿è¡Œæ’ä»¶ä¹‹å‰ï¼Œä½ éœ€è¦å°†<code>package.json</code>ä¸­çš„<code>main</code>å±æ€§æŒ‡å‘åˆ°æ„å»ºæ–‡ä»¶ä¸Šï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢æåˆ°çš„<a href="https://github.com/Microsoft/vscode-references-view/blob/d649d01d369e338bbe70c86e03f28269cbf87027/package.json#L26"><code>&quot;./dist/extension&quot;</code></a>ï¼Œæ”¹å¥½ä¹‹åæˆ‘ä»¬å°±å¯ä»¥è¿è¡Œå’Œæµ‹è¯•æ’ä»¶äº†ã€‚å…³äºè°ƒè¯•é…ç½®ï¼Œè¯·æ³¨æ„æ›´æ–°<code>launch.json</code>ä¸­çš„<code>outFiles</code>å±æ€§ã€‚</p>
<h2 id="æµ‹è¯•"><a class="header" href="#æµ‹è¯•">æµ‹è¯•</a></h2>
<hr />
<p>æ’ä»¶å¼€å‘è€…ä¸€èˆ¬éƒ½ä¼šç»™æ’ä»¶æºä»£ç è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œä½†æ˜¯æœ‰äº†å®Œå¤‡çš„åº•å±‚æ¶æ„æ”¯æŒï¼Œæ’ä»¶çš„æºä»£ç å¯ä»¥ä¸ä¾èµ–æµ‹è¯•ï¼Œwebpack äº§ç”Ÿçš„æ„å»ºæ–‡ä»¶ä¸­ä¹Ÿä¸åº”è¯¥åŒ…å«ä»»ä½•æµ‹è¯•ä»£ç ã€‚å¦‚æœéœ€è¦è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œåªéœ€è¦ç®€å•åœ°ç¼–è¯‘å°±å¥½äº†ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª<code>test-compile</code>è„šæœ¬ï¼Œå®ƒä¼šæŠŠè°ƒç”¨ Typescript ç¼–è¯‘å™¨å°†æ’ä»¶ç¼–è¯‘è‡³<code>out</code>ç›®å½•ä¸­ã€‚è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±æœ‰äº† JS æ–‡ä»¶ï¼Œå†ä½¿ç”¨ä¸‹é¢çš„<code>launch.json</code>å°±è¶³å¤Ÿåº”ä»˜æµ‹è¯•äº†ã€‚</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;Extension Tests&quot;,
  &quot;type&quot;: &quot;extensionHost&quot;,
  &quot;request&quot;: &quot;launch&quot;,
  &quot;runtimeExecutable&quot;: &quot;${execPath}&quot;,
  &quot;args&quot;: [
    &quot;--extensionDevelopmentPath=${workspaceFolder}&quot;,
    &quot;--extensionTestsPath=${workspaceFolder}/out/test&quot;
  ],
  &quot;outFiles&quot;: [&quot;${workspaceFolder}/out/test/**/*.js&quot;],
  &quot;preLaunchTask&quot;: &quot;npm: test-compile&quot;
}
</code></pre>
<p>è¿™ä¸ªæµ‹è¯•é…ç½®å¯¹äºé webpack æ‰“åŒ…çš„æ’ä»¶æ¥è¯´ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚æˆ‘ä»¬æ²¡å¿…è¦å°†å•å…ƒæµ‹è¯•æ‰“åŒ…èµ·æ¥ï¼Œå› ä¸ºå®ƒä»¬ä¸åº”åŒ…å«åœ¨æˆ‘ä»¬å‘å¸ƒçš„æ’ä»¶é‡Œã€‚</p>
<h2 id="å‘å¸ƒ"><a class="header" href="#å‘å¸ƒ">å‘å¸ƒ</a></h2>
<hr />
<p>å‘å¸ƒå‰ä½ éœ€è¦æ›´æ–°<code>.vscodeignore</code>æ–‡ä»¶ã€‚ç°åœ¨æ‰€æœ‰ä¸œè¥¿éƒ½æ‰“åŒ…åˆ°äº†<code>dist/extension.js</code>æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥åº”è¯¥æ’é™¤è¿™ä¸ªæ–‡ä»¶è¿˜æœ‰<code>out</code>æ–‡ä»¶å¤¹ï¼ˆæ€•ä½ æ¼äº†ï¼Œç‰¹æ­¤æé†’ï¼‰ï¼Œä»¥åŠæœ€é‡è¦çš„<code>node_modules</code>æ–‡ä»¶å¤¹ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>.vsignore</code>æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="language-bash">.vscode
node_modules
out/
src/
tsconfig.json
webpack.config.js
</code></pre>
<h2 id="è¿ç§»æ’ä»¶"><a class="header" href="#è¿ç§»æ’ä»¶">è¿ç§»æ’ä»¶</a></h2>
<hr />
<p>ç”¨ webpack è¿ç§»ç°æœ‰çš„æ’ä»¶æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±åƒæˆ‘ä»¬ä¸Šé¢çš„æŒ‡å—ä¸€æ ·ã€‚çœŸå®çš„ä¾‹å­å¦‚ VS Code çš„ References è§†å›¾å°±æ˜¯ä»è¿™ä¸ª<a href="https://github.com/Microsoft/vscode-references-view/pull/50">pull request</a>åº”ç”¨äº† webpack è€Œæ¥çš„ã€‚</p>
<p>åœ¨é‡Œé¢ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li><code>devDependencies</code>ä¸­æ·»åŠ <code>webpack</code>ï¼Œ<code>webpack-cli</code>å’Œ<code>ts-loader</code></li>
<li>æ›´æ–° npm è„šæœ¬ä»¥ä¾¿å¼€å‘æ—¶ä½¿ç”¨ webpack</li>
<li>æ›´æ–°è°ƒè¯•é…ç½®æ–‡ä»¶<code>launch.json</code></li>
<li>æ·»åŠ å’Œä¿®æ”¹<code>webpack.config.js</code></li>
<li>æ›´æ–°<code>.vscodeignore</code>æ’é™¤<code>node_modules</code>å’Œå…¶ä»–å¼€å‘æ—¶äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶</li>
<li>å¼€å§‹äº«å—ä½“ç§¯æ›´å°ã€å®‰è£…æ›´å¿«çš„æ’ä»¶ï¼</li>
</ul>
<h2 id="ç–‘éš¾è§£ç­”"><a class="header" href="#ç–‘éš¾è§£ç­”">ç–‘éš¾è§£ç­”</a></h2>
<hr />
<h4 id="å‹ç¼©"><a class="header" href="#å‹ç¼©">å‹ç¼©</a></h4>
<p>ä½¿ç”¨<code>production</code>æ¨¡å¼ä¼šæ‰§è¡Œä»£ç å‹ç¼©ï¼Œå®ƒä¼šå»é™¤æºä»£ç ä¸­çš„ç©ºæ ¼å’Œæ³¨é‡Šï¼Œå¹¶æŠŠå˜é‡åå’Œå‡½æ•°åè¿›è¡Œæ›¿æ¢â€”â€”æ··æ·†å’Œå‹ç¼©ã€‚ä¸è¿‡å½¢å¦‚<code>Function.prototype.name</code>çš„ä»£ç ä¸ä¼šå‹ç¼©ã€‚</p>
<h4 id="webpack-critical-dependencies"><a class="header" href="#webpack-critical-dependencies">webpack critical dependencies</a></h4>
<p>å½“ä½ è¿è¡Œ webpack æ—¶ï¼Œä½ å¯èƒ½ä¼šç¢°åˆ°åƒ<strong>Critical dependencies: the request of a dependency is an expression</strong>å­—æ ·çš„è­¦å‘Šã€‚è¿™äº›è­¦å‘Šå¿…é¡»ç«‹å³å¤„ç†ï¼Œä¸€èˆ¬æ¥è¯´ä¼šå½±å“åˆ°æ‰“åŒ…è¿‡ç¨‹ã€‚è¿™å¥è¯æ„å‘³ç€ webpack ä¸èƒ½é™æ€åˆ†ææŸäº›ä¾èµ–ï¼Œä¸€èˆ¬æ˜¯ç”±åŠ¨æ€ä½¿ç”¨<code>require</code>å¯¼è‡´çš„ï¼Œæ¯”å¦‚<code>require(someDynamicVariable)</code>ã€‚</p>
<p>æƒ³è¦å¤„ç†è¿™ç±»è­¦å‘Šï¼Œä½ éœ€è¦ï¼š</p>
<ul>
<li>å°†éœ€è¦æ‰“åŒ…çš„éƒ¨åˆ†å˜æˆé™æ€çš„ä¾èµ–ã€‚</li>
<li>é€šè¿‡<code>externals</code>æ’é™¤è¿™éƒ¨åˆ†ä¾èµ–ï¼Œä½†æ˜¯æ³¨æ„å®ƒä»¬çš„ Javascript æ–‡ä»¶è¿˜æ˜¯åº”è¯¥ä¿ç•™åœ¨æˆ‘ä»¬æ‰“åŒ…çš„æ’ä»¶é‡Œï¼Œåœ¨<code>.vscodeignore</code>ä¸­ä½¿ç”¨ glob æ¨¡å¼ï¼Œæ¯”å¦‚<code>!node_modules/mySpecialModule</code>ã€‚</li>
</ul>
<h2 id="ä¸‹ä¸€æ­¥"><a class="header" href="#ä¸‹ä¸€æ­¥">ä¸‹ä¸€æ­¥</a></h2>
<ul>
<li><a href="https://code.visualstudio.com/docs/editor/extension-gallery">æ’ä»¶å¸‚åœº</a> - å­¦ä¹ æ›´å¤š VS Code æ’ä»¶å¸‚åœºçš„æœ‰å…³å†…å®¹ã€‚</li>
<li><a href="/working-with-extensions/testing-extension.html">æµ‹è¯•æ’ä»¶</a> - æµ‹è¯•æ’ä»¶ï¼Œæé«˜é¡¹ç›®è´¨é‡ã€‚</li>
<li><a href="/working-with-extensions/continuous-integration.html">æŒç»­é›†æˆ</a> - ä½¿ç”¨ Azure Pipeline è¿è¡Œæ’ä»¶çš„ CI æ„å»ºã€‚</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../working-with-extensions/publish-extension.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../working-with-extensions/continuous-integration.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../working-with-extensions/publish-extension.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../working-with-extensions/continuous-integration.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
